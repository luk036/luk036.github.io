<!DOCTYPE html>
<html>
  <head>
    <title>
      Lecture 4a: Robust Analog Circuit Sizing Under Process Variations
    </title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1,width=device-width"
    />
    <link rel="stylesheet" type="text/css" href="../katex/katex.min.css" />
    <link rel="stylesheet" type="text/css" href="../css/nord-dark.css" />
    <link rel="stylesheet" type="text/css" href="../css/nord-light.css" />
    <link rel="stylesheet" type="text/css" href="../css/font-nord.css" />
    <link rel="stylesheet" type="text/css" href="../css/bg-nord.css" />
    <link rel="stylesheet" type="text/css" href="../css/slides.css" />
  </head>
  <body>
    <textarea id="source">

layout: true
class: typo, typo-selection

---

count: false
class: nord-dark, middle, center

Lecture 4a: Robust Analog Circuit Sizing Under Process Variations
=================================================================

.pull-left[

## @luk036

2022-10-12

] .pull-right[

![image](figs/dfm.svg)

] 

---

ğŸ”‘ Keywords
--------

-   Analog circuit æ¨¡æ‹Ÿç”µè·¯
-   Design for robustness é²æ£’æ€§è®¾è®¡
-   Worst-case scenarios æœ€åæƒ…æ™¯
-   Affine arithmetic ä»¿å°„è¿ç®—
-   Convex programming å‡¸è§„åˆ’
-   Geometric programming å‡ ä½•è§„åˆ’
-   Posynomial æ­£é¡¹å¼ (Positive + polynomial)
-   Ellipsoid method æ¤­çƒæ³•

---

ğŸ—ºï¸ Overview
------

-   Challenges of 20nm Analog Design

-   Design for variability

-   Design for robustness

-   Analog circuit sizing problem formulation

-   Robust geometric programming

-   Affine arithmetic for worst case scenarios

-   Design examples

---

ğŸ“– Introduction
------------

| Costs        | 28nm      | 20nm        |
| ------------ | --------- | ----------- |
| Fab Costs    | 3B        | 4B - 7B     |
| Process R&D  | 1.2B      | 2.1B - 3B   |
| Mask Costs   | 2M - 3M   | 5M - 8M     |
| Design Costs | 50M - 90M | 120M - 500M |

  : Fab, process, mask, and design costs are much higher at 20nm (IBS,
  May 2011)

---

Challenges at 20 nm
------------------

-   Double-patterning aware

-   Layout-dependent effects

-   New local interconnect layers

-   \>5,000 design rules

-   Device variation and sensitivity

-   New type of transistor - FinFET

---

Double Patterning
-----------------

![img](lec04.files/img001.png)

---

Overlay Error (Mask Shift)
--------------------------

-   Parasitic matching becomes very challenging

    ![img](lec04.files/img002.png)

---

Layout-Dependent Effects
------------------------

| Layout-Dependent Effects      | \> 40nm | At 40nm | \>= 28nm |
| ----------------------------- | :-----: | :-----: | :------: |
| Well Proximity Effect (WPE)   |    x    |    x    |    x     |
| Poly Spacing Effect (PSE)     |         |    x    |    x     |
| Length of Diffusion (LOD)     |    x    |    x    |    x     |
| OD to OD Spacing Effect (OSE) |         |    x    |    x     |

---

New Local Interconnect Layers
-----------------------------

![img](lec04.files/img003.png)

---

New Transistor Type: FinFET
---------------------------

![Width is discrete. You can add 2 fins or 3 fins, but not 2.75 fins.](lec04.files/img004.png)

---

Design for Robustness
---------------------

-   Process variations must be included in the specification.

---

Basic Design Flow
-----------------

.pull-left70[

![img](lec04.files/img005.png)

]

---

Top-down Design Phases
----------------------

![img](lec04.files/img006.png)

---

Basic Flow of Analog Synthesis
------------------------------

![img](lec04.files/img007.png)

---

Analog Circuit Sizing Problem
-----------------------------

-   Problem definition:
    -   Given a circuit topology, a set of specification requirements and technology, find the values of design variables that meet the specifications and optimize the circuit performance.
-   Difficulties:
    -   High degrees of freedom
    -   Performance is sensitive to variations

---

Main Approaches in CAD
----------------------

-   Knowledge-based
    -   Rely on circuit understanding, design heuristics
-   Optimization based
    -   **Equation based**
        -   Establish circuit equations and use numerical solvers
    -   Simulation based
        -   Rely on circuit simulation

In practice, you mix and match of them whenever appropriate.

---

Geometric Programming
---------------------

-   In recent years, techniques of using geometric programming (GP) are emerging.
-   In this lecture, we present a new idea of solving robust GP problems using **ellipsoid method** and **affine arithmetic**.

---

count: false
class: nord-dark, middle, center

.pull-left[

# Q & A ğŸ™‹ï¸

] .pull-right[

![image](figs/questions-and-answers.svg)

] 

    </textarea>
    <script src="../js/remark.min.js"></script>
    <script src="../katex/katex.min.js" type="text/javascript"></script>
    <script
      src="../katex/contrib/auto-render.min.js"
      type="text/javascript"
    ></script>
    <script type="text/javascript">
      renderMathInElement(document.getElementById("source"), {
        delimiters: [
          { left: "$$", right: "$$", display: true },
          { left: "$", right: "$", display: false },
        ],
      });
      var slideshow = remark.create({
        ratio: "4:3", // çª—å£æ¯”ä¾‹
        // å¯é€‰ï¼šarta, ascetic, dark, default, far, github, googlecode, idea,
        // ir-black, magula, monokai, rainbow, solarized-dark, solarized-light,
        // sunburst, tomorrow, tomorrow-night-blue, tomorrow-night-bright,
        // tomorrow-night, tomorrow-night-eighties, vs, zenburn.
        highlightStyle: "monokai",
        highlightLines: true,
        countIncrementalSlides: false, // å¢é‡å†…å®¹æ˜¯å¦ç®—ä¸€é¡µ
        // slideNumberFormat: "", // è‹¥å°†æ­¤å‚æ•°è®¾ç½®ä¸º ""ï¼Œå°†ä¸æ˜¾ç¤ºé¡µç 
        navigation: {
          scroll: false, // æ˜¯å¦å…è®¸ä½¿ç”¨é¼ æ ‡æ»šè½®ç¿»é¡µ
          touch: true, // ï¼ˆå¦‚æœæ˜¯è§¦æ‘¸å±ï¼‰æ˜¯å¦å…è®¸ç‚¹å‡»å±å¹•å·¦è¾¹æˆ–å³è¾¹å‰åç¿»é¡µ
          click: false, // æ˜¯å¦å…è®¸é¼ æ ‡ç‚¹å‡»å±å¹•å·¦è¾¹æˆ–å³è¾¹å‰åç¿»é¡µ
        },
      });
    </script>
  </body>
</html>
