<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="ACTIVITY" height="306px" preserveAspectRatio="none" style="width:257px;height:306px;background:linear-gradient(135deg, #f8fbff 0%, #f0f4ff 100%);" version="1.1" viewBox="0 0 257 306" width="257px" zoomAndPan="magnify">
  <defs>
    <linearGradient id="blueGradient2" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#4A90E2" />
      <stop offset="100%" stop-color="#357ABD" />
    </linearGradient>
    <linearGradient id="greenGradient2" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#50C878" />
      <stop offset="100%" stop-color="#3DAF6B" />
    </linearGradient>
    <linearGradient id="orangeGradient2" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#FF9F43" />
      <stop offset="100%" stop-color="#FF8C2B" />
    </linearGradient>
    <linearGradient id="purpleGradient2" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#9B59B6" />
      <stop offset="100%" stop-color="#8E44AD" />
    </linearGradient>
    <linearGradient id="tealGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#1ABC9C" />
      <stop offset="100%" stop-color="#16A085" />
    </linearGradient>
    <filter id="shadow2" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="1" dy="2" stdDeviation="2" flood-color="#333333" flood-opacity="0.2"/>
    </filter>
  </defs>

  <g>
    <!-- Initial assignment box -->
    <rect fill="url(#blueGradient2)" filter="url(#shadow2)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#2C3E50;stroke-width:1.5;" width="87.002" x="84.2197" y="11"/>
    <text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="63.1875" x="98.0342" y="32.1387">β := βmax</text>

    <!-- Find β' calculation box -->
    <rect fill="url(#tealGradient)" filter="url(#shadow2)" height="47.9375" rx="12.5" ry="12.5" style="stroke:#2C3E50;stroke-width:1.5;" width="183.4414" x="36" y="108.9688"/>
    <text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="97.6113" x="49.8145" y="130.1074">find β' such that</text>
    <text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="155.8125" x="53.6289" y="144.0762">sum{(i,j) in C | fij(β')} = 0</text>

    <!-- Assignment box -->
    <rect fill="url(#orangeGradient2)" filter="url(#shadow2)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#2C3E50;stroke-width:1.5;" width="64.1563" x="95.6426" y="185.4219"/>
    <text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="40.3418" x="109.457" y="206.5605">β := β'</text>

    <!-- Decision diamond -->
    <polygon fill="url(#purpleGradient2)" filter="url(#shadow2)" points="48.0244,64.9688,207.417,64.9688,219.417,76.9688,207.417,88.9688,48.0244,88.9688,36.0244,76.9688,48.0244,64.9688" style="stroke:#2C3E50;stroke-width:1.5;"/>
    <text fill="#FFFFFF" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="159.3926" x="48.0244" y="80.7769">a neg. cycle C under β exists</text>

    <!-- Final result box -->
    <rect fill="url(#greenGradient2)" filter="url(#shadow2)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#2C3E50;stroke-width:1.5;" width="66.8574" x="94.292" y="261.3906"/>
    <text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="43.043" x="108.1064" y="282.5293">β* := β</text>

    <!-- Enhanced arrows with consistent styling -->
    <line style="stroke:#2C3E50;stroke-width:2;" x1="127.7207" x2="127.7207" y1="156.9063" y2="185.4219"/>
    <polygon fill="#2C3E50" points="123.7207,175.4219,127.7207,185.4219,131.7207,175.4219,127.7207,179.4219" style="stroke:#2C3E50;stroke-width:2;"/>

    <line style="stroke:#2C3E50;stroke-width:2;" x1="127.7207" x2="127.7207" y1="88.9688" y2="108.9688"/>
    <polygon fill="#2C3E50" points="123.7207,98.9688,127.7207,108.9688,131.7207,98.9688,127.7207,102.9688" style="stroke:#2C3E50;stroke-width:2;"/>

    <line style="stroke:#2C3E50;stroke-width:2;" x1="127.7207" x2="127.7207" y1="219.3906" y2="229.3906"/>
    <line style="stroke:#2C3E50;stroke-width:2;" x1="127.7207" x2="231.4414" y1="229.3906" y2="229.3906"/>
    <polygon fill="#2C3E50" points="227.4414,165.4219,231.4414,155.4219,235.4414,165.4219,231.4414,161.4219" style="stroke:#2C3E50;stroke-width:2;"/>

    <line style="stroke:#2C3E50;stroke-width:2;" x1="231.4414" x2="231.4414" y1="76.9688" y2="229.3906"/>
    <line style="stroke:#2C3E50;stroke-width:2;" x1="231.4414" x2="219.417" y1="76.9688" y2="76.9688"/>
    <polygon fill="#2C3E50" points="229.417,72.9688,219.417,76.9688,229.417,80.9688,225.417,76.9688" style="stroke:#2C3E50;stroke-width:2;"/>

    <line style="stroke:#2C3E50;stroke-width:2;" x1="36.0244" x2="24" y1="76.9688" y2="76.9688"/>
    <polygon fill="#2C3E50" points="20,151.4219,24,161.4219,28,151.4219,24,155.4219" style="stroke:#2C3E50;stroke-width:2;"/>

    <line style="stroke:#2C3E50;stroke-width:2;" x1="24" x2="24" y1="76.9688" y2="241.3906"/>
    <line style="stroke:#2C3E50;stroke-width:2;" x1="24" x2="127.7207" y1="241.3906" y2="241.3906"/>
    <line style="stroke:#2C3E50;stroke-width:2;" x1="127.7207" x2="127.7207" y1="241.3906" y2="261.3906"/>
    <polygon fill="#2C3E50" points="123.7207,251.3906,127.7207,261.3906,131.7207,251.3906,127.7207,255.3906" style="stroke:#2C3E50;stroke-width:2;"/>

    <line style="stroke:#2C3E50;stroke-width:2;" x1="127.7207" x2="127.7207" y1="44.9688" y2="64.9688"/>
    <polygon fill="#2C3E50" points="123.7207,54.9688,127.7207,64.9688,131.7207,54.9688,127.7207,58.9688" style="stroke:#2C3E50;stroke-width:2;"/>
  </g>
</svg>
