<!doctype html>
<html>
  <head>
    <title>Redundant Via Insertion + MP</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" type="text/css" href="../katex/katex.min.css" />
    <link rel="stylesheet" type="text/css" href="../css/slides.css" />
    <style type="text/css">
      /* Slideshow styles */
      @import url(http://fonts.lug.ustc.edu.cn/css?family=Droid+Serif);
      @import url(http://fonts.lug.ustc.edu.cn/css?family=Yanone+Kaffeesatz);
    </style>
  </head>

  <body>
    <textarea id="source">

class: nord-dark, middle, center

# ğŸ”´ Redundant Via Insertion + MP

@luk036 ğŸ‘¨â€ğŸ’»

2017-10-19 ğŸ“…

---

## ğŸ“ Abstract

- ğŸ”„ Redundant Via Insertion (RVI) is an effective technique for reducing the yield loss caused by via defeats.
- ğŸ It starts with generating a set of redundant via candidates and then assigns the appropriate candidates to each primary via (PV) as possible.
- ğŸ§© Traditionally, the optimal assignment problem has been formulated as maximum bipartite matching (MBM) and maximum independent set (MIS).
- âš¡ The MBM problem can be solved efficiently.
- âš ï¸ However, since the formulation cannot take care of the spacing/coloring conflicts among RV's, the main stream of researches quickly went to the MIS camp.
- ğŸ¤” Nevertheless, under the MIS formulation, some PV's could have multiple RV's while some PV's could get none, which is not optimal from the yield improvement's perspective.
- ğŸ’¡ With this in mind, we propose to combine the two formulations into a novel one, which retains the maximum matching objective while imposing additional independent set constraints.
  - 1ï¸âƒ£ First, the corresponding ILP formulation is derived.
  - 2ï¸âƒ£ Then a matching-based heuristic algorithm is proposed.

---

class: center, middle

# ğŸ‘‹ Introduction

<!-- ![alt](https://g.gravizo.com/svg?
  a -> b: hello;
  b -> a: hi;
) -->

---

## ğŸ”´ Redundant Via Insertion

- ğŸ”„ Also known as double via insertion.
- ğŸ’¡ Original idea is simple: if one via fails, another one still can work.

![img](lec01.files/image037.png)

---

## ğŸ› ï¸ RVI-aware routing vs. Post-routing RVI

- ğŸ“Œ Post-routing RVI was popular (many EDA tools have this feature)
- ğŸ¯ Main goal of RVI: improve yield (nice-to-have)
- â±ï¸ Main goal of routing: timing (must satisfy)
- ğŸ”„ RVI consumes very little routing resource.
- âš¡ Reduce via resistance. No negative impact on the timing.
- âœ… RVI-aware routing has better result.

---

## ğŸ–¨ï¸ Lithography effect

- ğŸ”¬ In sub-10nm, the issue become complicated.
- ğŸŒ€ Via could be generated by multiple patterning, complementary e-beam, Directed Self-Assembly, or EUV.

---

## ğŸ¨ Lithography-aware RVI vs. RVI-aware lithography

- âš ï¸ In reality, if not address the lithographic coloring conflict, both primal via and redundant via will fail.
- ğŸ–Œï¸ Lithography-aware RVI at routing stage has been proposed [@yuan2009double, @ding2017self].
- ğŸ¤¯ However, it will complicate the router.
- ğŸ”„ Another possible way is to generate as many as RV candidates as possible during the routing stage, and then select the candidates later during the lithography optimization.
- âœ… It is possible because the RVI consumes very little routing resource and does not induce any negative impact to the timing.

'Double patterning lithography friendly detailed routing with redundant via consideration'

---

## ğŸ”„ Maximum Bipartite Matching Formulation

- ğŸ“œ Historically, the pure RVI problem was formulated as maximum bipartite matching problem.
- âš¡ Can be solved in polynomial time by using a max-flow algorithm.
- ğŸ“Š Can be formulated in an ILP form.
- ğŸ¯ The objective is "correct":
  - âœ… each primal via (PV) matches at least one redundant via (RV).
- âš ï¸ However, the formulation does not take care of conflicts between RV's.
- ğŸ“Œ In [?], the problem was formulated as min-cost max-flow problem.

---

## ğŸ§© Maximum Independent Set Formulation

- ğŸ”„ Later, the problem was formulated as a _maximum independent set_ problem (MIS)
- âœ… Can take care of conflicts between RV's.
- ğŸ“Š Can be formulated in ILP form.
- âš ï¸ However, the objective is "wrong":
  - ğŸ”„ some PV's may get more than one RV, while some others may get none of RV.
- ğŸ§  MIS is NP-hard for general graphs.

---

## ğŸ†• New formulation

- ğŸ”„ Combine of two formulations is what we want (Yes!).
  - ğŸ¤ Matching PV and RV as many as possible with independent set constraints.
- ğŸ“Š Can be formulated in ILP form.
- â“ NP-hard? If yes, any good heuristic?

---

## âœ‚ï¸ Minimum Vertex Cover Formulation

- ğŸ”„ MIS is equivalent to minimum vertex cover problem (MVCP)
  - ğŸ“ˆ Maximizing #RV inserted is equivalent to minimizing #RV removed.

- ğŸ“Š ILP form of MVCP:

  $$\begin{array}{ll}
   \text{minimize}   & \sum_{v \in V} x_v \\
   \text{subject to} & x_u + x_v \geq 1 \; \forall (u,v) \in E \\
    & x_v \in \{0,1\} \; \forall v \in V
  \end{array}$$

- ğŸ”„ We only keep the constraint part.

---

## ğŸ¨ Considering RVI + DP

- ğŸ–Œï¸ Assume the original design already has a valid coloring solution, i.e., odd-cycle free.
- ğŸ”„ However, reassign the coloring of PV may help to resolve the conflicts between RV's and PV's
- âœ‚ï¸ Vertex Cover constraint is replaced with Odd Cycle Cover constraint.
- ğŸ¯ The objective is unchanged.
- â“ NP-hard? If yes, any good heuristic?
- ğŸ¤” How about Triple Patterning?

---

## ğŸŒ€ Considering RVI + DSA + DP

- ğŸ§ª Directed self-assembly is still not mature.
- ğŸ”³ 2x2 four-hole pattern for 1PV+2RV+1Dummy may not be a good idea. Better than 1PV alone?
- ğŸ§© The template assignment problem can be formulated as a set packing problem.
- ğŸ”„ One possible way is to generate different sets of maximal set packing solution and then solve the RVI + DP problems. Choose the best one as the final solution. Better than ILP if the problem size is small?

---

class: nord-dark, middle, center

.pull-left[

# Q&A ğŸ¤

]
.pull-right[

![image](figs/questions-and-answers.svg)

]

  </textarea
    >
    <script src="../js/remark.min.js"></script>
    <script src="../katex/katex.min.js" type="text/javascript"></script>
    <script
      src="../katex/contrib/auto-render.min.js"
      type="text/javascript"
    ></script>
    <script type="text/javascript">
      renderMathInElement(document.getElementById("source"), {
        delimiters: [
          { left: "$$", right: "$$", display: true },
          { left: "$", right: "$", display: false },
        ],
      });
      var slideshow = remark.create({
        ratio: "4:3",
        highlightLines: true,
        highlightStyle: "tomorrow-night-eighties",
      });
    </script>
  </body>
</html>
