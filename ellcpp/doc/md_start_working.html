<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>EllCpp: How to start working</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href='https://fonts.googleapis.com/css?family=Roboto:400' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Roboto:500' rel='stylesheet' type='text/css'>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div class="container">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">EllCpp
   &#160;<span id="projectnumber">..</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md_start_working.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">How to start working </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Build System</h2>
<p>Big help will be the official CMake docs at <a href="https://cmake.org/cmake/help/latest/">cmake.org/cmake/help/latest/</a>. You can consult them for function description.</p>
<p>Other than that CMake is fairly simple language, which can get things done quickly.</p>
<p>If you found yourself in a situation when you do not know the status of variables, use <code>cmake .. -LH</code> or <code>cmake .. -LAH</code> for current variables values.</p>
<p>Start with reading <code>project_folder/CMakeLists.txt</code> and continue to <code>project_folder/source/CMakeLists.txt</code>. If you are interested in testing (you should be), read also <code>project_folder/test/CMakeLists.txt</code> and see how testing is done and so on.</p>
<h2>Source code</h2>
<p>Function main is in the <code>source/main.cpp</code>.</p>
<p>If you want to add an file, add it to <code>source/CMakeLists.txt</code> into <em>SRCS</em> variable, then it will be compiled to EllCppApp target.</p>
<h2>Change the name of the executable</h2>
<h3>Manual proces:</h3>
<ul>
<li><b>packaging/EllCppApp.desktop.desktop</b> - rename file, change texts, replace "EllCppApp" strings with your new executable name</li>
<li><b>packaging/EllCppApp.ico</b> - rename file</li>
<li><b>packaging/EllCppApp.icon.in.rc</b> - rename file, replace "EllCppApp" strings with your new executable name</li>
<li><b>packaging/EllCppApp.png</b> - rename file</li>
<li><b>packaging/CMakeLists.txt</b> - change description texts, windows desktop icon name (CPACK_NSIS_DISPLAY_NAME), replace "EllCppApp" strings with your new executable name</li>
<li><b>test/CMakeLists.txt</b> - replace "EllCppApp" strings with your new executable name</li>
<li><b>readme.md</b> - replace "EllCppApp" strings with your new executable name</li>
<li><b>source/CMakeLists.txt</b> - replace "EllCppApp" strings with your new executable name</li>
<li><b><a class="el" href="start__working_8md.html">doc/start_working.md</a></b> - replace "EllCppApp" strings with your new executable name</li>
<li><b><a class="el" href="directoryStructure_8md.html">doc/directoryStructure.md</a></b> - replace "EllCppApp" strings with your new executable name</li>
</ul>
<h3>Automatic process (for linux):</h3>
<p>This expect, that you have installed ag, the silver searcher (faster grep with simpler usage). If you created build directory starting with other than "build", you may want to delete it (ag respects .gitignore, and it would happily wreck your build directory with sed).</p>
<p>We will first rename the files handling icons, then we run sed (streaming editor) and replace all occurences of EllCppApp with your new name.</p>
<div class="fragment"><div class="line">cd [root/of/project]</div><div class="line">export NEWNAME=&quot;newExecutableName&quot;</div><div class="line"></div><div class="line">git mv packaging/EllCppApp.desktop    packaging/${NEWNAME}.desktop</div><div class="line">git mv packaging/EllCppApp.ico        packaging/${NEWNAME}.ico</div><div class="line">git mv packaging/EllCppApp.icon.in.rc packaging/${NEWNAME}.icon.in.rc </div><div class="line">git mv packaging/EllCppApp.png        packaging/${NEWNAME}.png</div><div class="line"></div><div class="line">ag -l EllCppApp | xargs sed -i -e &quot;s/EllCppApp/${NEWNAME}/g&quot;</div></div><!-- fragment --><p>Then change description in **.desktop** and <b>packaging/CMakeLists.txt</b> files.</p>
<h2>Change icon</h2>
<p>Just change replace packaging/EllCppApp.ico and packaging/EllCppApp.png with your own images.</p>
<h2>Add depenencies</h2>
<p>Look at the <code>external/CMakeLists.txt</code> to see examples on adding external libraries. There are examples for:</p>
<ul>
<li>nlohmann/json - amazing library for json handling</li>
<li>spdlog - fast and simple logging library</li>
<li>doctest - alternative to catch unit test library</li>
<li>fmt - python text/output like formating</li>
<li>cpr - requests for humans for C++</li>
</ul>
<p>Just uncomment the part of the code and add the dependencies via <code>target_link_libraries</code>.</p>
<h2>Tests</h2>
<h3>Unit tests</h3>
<p>Checkout https://github.com/philsquared/Catch/blob/master/docs/tutorial.md "catch tutorial".</p>
<p>When you want to add new unit tests, add source file to <code>test/CMakeLists.txt</code> to <em>SRCTEST</em> variable. You can use following snippet to add tests to a file:</p>
<div class="fragment"><div class="line">#ifdef UNIT_TESTS</div><div class="line">#include &quot;catch.hpp&quot;</div><div class="line"></div><div class="line">TEST_CASE(&quot;SomeClass set and get&quot;)</div><div class="line">{</div><div class="line">    //setup</div><div class="line">    ...</div><div class="line"></div><div class="line">    REQUIRE(something.get() != 2);</div><div class="line">}</div><div class="line"></div><div class="line">#endif</div></div><!-- fragment --><p>This way you can have tests part of an implementation file and yet they will not be part of a regular build because <em>UNIT_TESTS</em> define is defined only for producing unit test binary.</p>
<h3>Integration tests</h3>
<p>Start with <code>test/CMakeLists.txt</code>, it is pretty straightforward. See <a href="https://cmake.org/cmake/help/latest/command/add_test.html">cmake documentation</a> for more information. By default test checks for return value (must be zero), but with PASS_REGULAR_EXPRESSION and FAIL_REGULAR_EXPRESSION that can be changed. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</div>
</body>
</html>
